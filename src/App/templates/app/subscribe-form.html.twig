{% extends '@layout/default.html.twig' %}

{% block title %}Subscribe{% endblock %}

{% block content %}
    <h1 class="mb-1.5 text-2xl font-bold py-2 ml-1">Bin Collection Reminder Service - Subscribe</h1>
    <p class="text-slate-800 ml-1">
        <span class="font-bold">Don't miss a bin pick-up!</span>
        Subscribe using the form below to be reminded by email <span class="italic">or</span> SMS when your next collection day is.
    </p>
    <form action="{{ path('subscribe.processor') }}"
          method="post"
          class="my-4 mt-5 p-3 rounded-md bg-white p-8 rounded-md border-2 border-slate-200 drop-shadow-sm">
        <div class="mb-4">
            <label for="fullName" class="cursor-pointer {% if errors.fullName is defined %}error{% endif %}">
                <span class="block mb-1 font-bold">Your name: {% if errors.fullName is defined %}({{ errors.fullName}}){% endif %}</span>
            </label>
            <div class="relative text-gray-600 focus-within:text-gray-400">
                <input id="fullName"
                       type="text"
                       name="fullName"
                       placeholder="Your name"
                       value="{{ data.fullName|default('') }}"
                       class="pl-4 {% if errors.fullName is defined %}error{% else %}default{% endif %}">
            </div>
        </div>
        <div class="mb-4">
            <label for="address" class="cursor-pointer {% if errors.address is defined %}error{% endif %}">
                <span class="block mb-1 font-bold">Your address: {% if errors.address is defined %}({{ errors.address}}){% endif %}</span>
            </label>
            <div class="relative text-gray-600 focus-within:text-gray-400">
                <div class="absolute inset-y-0 left-0 flex items-center border-r-0 border-r-slate-100 pl-2 pr-1">
                    <div class="p-1 focus:outline-none focus:shadow-outline">
                        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-6 h-6 ml-1 mr-1"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </div>
                </div>
                <input id="address"
                       type="text"
                       name="address"
                       placeholder="Your address"
                       value="{{ data.address|default('') }}"
                       class="{% if errors.address is defined %}error{% else %}default{% endif %}">
            </div>
        </div>
        <div class="flex flex-col md:flex-row items-center gap-2 md:gap-4">
            <div class="mb-3 w-full grow">
                <label for="mobile" class="cursor-pointer {% if errors.mobile is defined %}error{% endif %}">
                    <span class="block mb-1">Your mobile number: {% if errors.mobile is defined %}({{ errors.mobile}}){% endif %}</span>
                </label>
                <div class="relative text-gray-600 focus-within:text-gray-400">
                    <div class="absolute inset-y-0 left-0 flex items-center border-r-0 border-r-slate-100">
                        <div class="p-1 focus:outline-none focus:shadow-outline">
                            <img src="/images/icons/phone-dialer-icon-2.png"
                                 title="phone dialer icon"
                                 class="grayscale saturate-50 w-8 ml-2 mr-1">
                        </div>
                    </div>
                    <input id="mobile"
                           type="tel"
                           name="mobile"
                           placeholder="Your mobile phone number"
                           value="{{ data.mobile|default('') }}"
                           class="{% if errors.mobile is defined %}error{% else %}default{% endif %}">
                </div>
            </div>
            <div class="text-slate-500 font-bold text-sm hidden md:block">OR</div>
            <div class="mb-3 w-full grow">
                <label for="email" class="cursor-pointer {% if errors.email is defined %}error{% endif %}">
                    <span class="block mb-1">Your email address: {% if errors.email is defined %}({{ errors.email}}){% endif %}</span>
                </label>
                <div class="relative text-gray-600 focus-within:text-gray-400">
                    <div class="absolute inset-y-0 left-0 flex items-center border-r-0 border-r-slate-100">
                        <div class="p-1 focus:outline-none focus:shadow-outline">
                            <img src="/images/icons/email-icon.png"
                                 title="email icon"
                                 class="grayscale saturate-50 w-8 ml-2 mr-1">
                        </div>
                    </div>
                    <input id="email"
                           type="email"
                           name="email"
                           placeholder="Your email address"
                           value="{{ data.email|default('') }}"
                           class="{% if errors.email is defined %}error{% else %}default{% endif %}">
                </div>
            </div>
        </div>
        <div class="mt-2 mb-1.5">
            <input name="submit" type="submit" value="Subscribe"
                   class="cursor-pointer rounded-md border-2 border-amber-600 hover:border-amber-700 bg-amber-600 hover:bg-amber-700 transition duration-300 ease-in-out font-bold w-full text-white p-3">
        </div>
        <p class="text-xs leading-normal ml-1 mt-3 text-slate-500">
            Your information will only be used to keep you updated on your next bin collection time.
            We will not sell or distribute your email address to any third party at any time.
            Here is the service's <a href="{{ path('static.terms') }}" class="hover:underline decoration-2 underline-offset-4 text-sky-800 decoration-sky-800 cursor-pointer transition duration-300 ease-in-out">terms and conditions</a> and <a href="{{ path('static.privacy') }}" class="hover:underline decoration-2 underline-offset-4 text-sky-800 decoration-sky-800 cursor-pointer transition duration-300 ease-in-out">privacy policy</a>.
            You can opt out at any time.
        </p>
    </form>
{% endblock %}
